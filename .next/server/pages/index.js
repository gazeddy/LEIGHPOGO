(()=>{var a={};a.id=332,a.ids=[220,332,636],a.modules={361:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:a=>{"use strict";a.exports=require("react")},2326:a=>{"use strict";a.exports=require("react-dom")},2768:()=>{},3873:a=>{"use strict";a.exports=require("path")},4722:a=>{"use strict";a.exports=require("next-auth/react")},6060:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},6095:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(8732),e=c(4722);c(2768);var f=c(7878);function g({Component:a,pageProps:{session:b,...c}}){return(0,d.jsxs)(e.SessionProvider,{session:b,children:[(0,d.jsx)(f.A,{}),(0,d.jsx)(a,{...c})]})}},6330:a=>{"use strict";a.exports=require("@prisma/client")},7878:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(8732),e=c(6761),f=c.n(e),g=c(9918),h=c.n(g),i=c(4722),j=c(2015);let k={src:"/_next/static/media/favicon.36114c8b.ico",height:32,width:32,blurWidth:0,blurHeight:0};function l(){let{data:a,status:b}=(0,i.useSession)(),[c,e]=(0,j.useState)(!1);if("loading"===b)return null;let g=a?.user?.role==="admin";return(0,d.jsx)("nav",{className:"navbar",children:(0,d.jsxs)("div",{className:"nav-inner",children:[(0,d.jsxs)(h(),{href:"/",className:"nav-logo",children:[(0,d.jsx)(f(),{src:k,alt:"Leigh Pok\xe9mon Go Community",className:"nav-favicon"}),(0,d.jsx)("span",{children:"Leigh Pokemon Go Community"})]}),(0,d.jsx)("button",{className:"nav-toggle",onClick:()=>e(!c),children:"â˜°"}),(0,d.jsxs)("div",{className:`nav-links ${c?"open":""}`,children:[(0,d.jsx)(h(),{href:"/",className:"nav-item",children:"Home"}),(0,d.jsx)(h(),{href:"/search-strings",className:"nav-item",children:"Search Builder"}),(0,d.jsx)(h(),{href:"/pokedex",className:"nav-item",children:"Pok\xe9dex"}),a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h(),{href:"/account",className:"nav-item",children:"Account"}),g&&(0,d.jsx)(h(),{href:"/admin",className:"nav-item",children:"Admin Panel"}),(0,d.jsx)("button",{className:"nav-btn",onClick:()=>(0,i.signOut)({callbackUrl:"/login"}),children:"Logout"})]}),!a&&(0,d.jsx)(h(),{href:"/login",className:"nav-item",children:"Login"})]})]})})}},8732:a=>{"use strict";a.exports=require("react/jsx-runtime")},9141:(a,b,c)=>{"use strict";c.r(b),c.d(b,{config:()=>w,default:()=>s,getServerSideProps:()=>v,getStaticPaths:()=>u,getStaticProps:()=>t,handler:()=>E,reportWebVitals:()=>x,routeModule:()=>D,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>z,unstable_getStaticProps:()=>y});var d={};c.r(d),c.d(d,{default:()=>p,getServerSideProps:()=>q});var e=c(3885),f=c(237),g=c(1413),h=c(3317),i=c.n(h),j=c(6095),k=c(8732),l=c(4722),m=c(2015),n=c(9968),o=c.n(n);function p({entries:a}){let{data:b}=(0,l.useSession)(),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)(""),[g,h]=(0,m.useState)(""),[i,j]=(0,m.useState)(a),n=async a=>{if(a.preventDefault(),!b)return void h("You must be logged in to add a friend code.");let g=await fetch("/api/entries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trainerName:c,friendCode:e})});if(g.ok){let a=await g.json();j(b=>[a,...b]),d(""),f(""),h("Entry added!")}else h((await g.json()).error||"Failed to add entry.")};return(0,k.jsxs)("div",{className:"container",children:[(0,k.jsxs)("div",{className:"card",children:[(0,k.jsx)("h1",{children:"Pok\xe9mon GO Friend Codes"}),(0,k.jsx)("p",{className:"muted",children:"Browse the latest codes from the community and add your own to let others connect with you."})]}),(0,k.jsxs)("div",{className:"card",children:[(0,k.jsx)("h2",{children:"Add your friend code"}),b?(0,k.jsxs)("form",{className:"stack",onSubmit:n,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"trainerName",children:"Trainer Name"}),(0,k.jsx)("input",{id:"trainerName",type:"text",placeholder:"Trainer Name",value:c,onChange:a=>d(a.target.value),required:!0})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"friendCode",children:"Friend Code"}),(0,k.jsx)("input",{id:"friendCode",type:"text",placeholder:"Friend Code",value:e,onChange:a=>f(a.target.value),required:!0})]}),(0,k.jsx)("button",{type:"submit",children:"Submit"})]}):(0,k.jsx)("p",{className:"muted",children:"Log in to add your friend code."}),g&&(0,k.jsx)("p",{className:"status",children:g})]}),(0,k.jsxs)("div",{className:"card",children:[(0,k.jsx)("h2",{children:"Community friend codes"}),0===i.length?(0,k.jsx)("p",{children:"No entries yet."}):(0,k.jsx)("ul",{children:i.map(a=>(0,k.jsxs)("li",{children:[(0,k.jsx)("strong",{children:a.owner.ign}),": ",a.code]},a.id))})]})]})}async function q(){return{props:{entries:(await o().entry.findMany({orderBy:{createdAt:"desc"},include:{owner:{select:{ign:!0}}}})).map(a=>({...a,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString()}))}}}var r=c(2289);let s=(0,g.M)(d,"default"),t=(0,g.M)(d,"getStaticProps"),u=(0,g.M)(d,"getStaticPaths"),v=(0,g.M)(d,"getServerSideProps"),w=(0,g.M)(d,"config"),x=(0,g.M)(d,"reportWebVitals"),y=(0,g.M)(d,"unstable_getStaticProps"),z=(0,g.M)(d,"unstable_getStaticPaths"),A=(0,g.M)(d,"unstable_getStaticParams"),B=(0,g.M)(d,"unstable_getServerProps"),C=(0,g.M)(d,"unstable_getServerSideProps"),D=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:j.default,Document:i()},userland:d}),E=(0,r.U)({srcPage:"/index",config:w,userland:d,routeModule:D,getStaticPaths:u,getStaticProps:t,getServerSideProps:v})},9968:(a,b,c)=>{"use strict";let{PrismaClient:d}=c(6330);global.prisma||(global.prisma=new d),a.exports=global.prisma}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[447,238,317,781],()=>b(b.s=9141));module.exports=c})();